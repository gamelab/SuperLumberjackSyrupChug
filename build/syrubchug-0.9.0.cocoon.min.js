var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.Audio=function(a){this.game=a,this.currentBackgroundTrack=null,this.titleTrack=new Kiwi.Sound.Audio(this.game,"title-loop",.8,!0),this.selectTrack=new Kiwi.Sound.Audio(this.game,"select-loop",.8,!0),this.gameTrack=new Kiwi.Sound.Audio(this.game,"game-loop",.6,!0),this.loserTrack=new Kiwi.Sound.Audio(this.game,"loser",.8,!1),this.winnerTrack=new Kiwi.Sound.Audio(this.game,"winner",.8,!1),this.finalTrack=new Kiwi.Sound.Audio(this.game,"final-loop",.8,!0),this.button=new Kiwi.Sound.Audio(this.game,"button",.8,!1),this.countDown=new Kiwi.Sound.Audio(this.game,"countdown",.8,!1),this.gameTrackTween=this.game.tweens.create(this.gameTrack)},SuperLumberjackSyrupChug.Audio.prototype.stopBackgroundTrack=function(){null!==this.currentBackgroundTrack&&this.currentBackgroundTrack.stop()},SuperLumberjackSyrupChug.Audio.prototype.playTitleTrack=function(){this.stopBackgroundTrack(),this.currentBackgroundTrack=this.titleTrack,this.currentBackgroundTrack.play()},SuperLumberjackSyrupChug.Audio.prototype.playSelectTrack=function(){this.stopBackgroundTrack(),this.currentBackgroundTrack=this.selectTrack,this.currentBackgroundTrack.play()},SuperLumberjackSyrupChug.Audio.prototype.playGameTrack=function(){this.gameTrack.volume=.6,this.stopBackgroundTrack(),this.currentBackgroundTrack=this.gameTrack,this.currentBackgroundTrack.play()},SuperLumberjackSyrupChug.Audio.prototype.playLoserTrack=function(){this.gameTrack.isPlaying?(this.gameTrackTween.stop(),this.gameTrackTween.onComplete(function(){this.stopBackgroundTrack(),this.currentBackgroundTrack=this.loserTrack,this.currentBackgroundTrack.play()},this),this.gameTrackTween.to({volume:0},1e3),this.gameTrackTween.start()):(this.stopBackgroundTrack(),this.currentBackgroundTrack=this.loserTrack,this.currentBackgroundTrack.play())},SuperLumberjackSyrupChug.Audio.prototype.playFinalTrack=function(){this.gameTrack.isPlaying?(this.gameTrackTween.stop(),this.gameTrackTween.onComplete(function(){this.stopBackgroundTrack(),this.currentBackgroundTrack=this.finalTrack,this.currentBackgroundTrack.play()},this),this.gameTrackTween.to({volume:0},1e3),this.gameTrackTween.start()):(this.stopBackgroundTrack(),this.currentBackgroundTrack=this.finalTrack,this.currentBackgroundTrack.play())},SuperLumberjackSyrupChug.Audio.prototype.playWinnerTrack=function(){this.gameTrack.isPlaying?(this.gameTrackTween.stop(),this.gameTrackTween.onComplete(function(){this.stopBackgroundTrack(),this.currentBackgroundTrack=this.winnerTrack,this.currentBackgroundTrack.play()},this),this.gameTrackTween.to({volume:0},1e3),this.gameTrackTween.start()):(this.stopBackgroundTrack(),this.currentBackgroundTrack=this.winnerTrack,this.currentBackgroundTrack.play())},SuperLumberjackSyrupChug.Audio.prototype.playButton=function(){this.button.play("default",!0)},SuperLumberjackSyrupChug.Audio.prototype.playCountDown=function(){this.countDown.play("default",!0)};var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.Background=function(a){this.game=a,this.backgrounds=["morning-trees","noon-trees","night-trees"],this.currentBackground=this.game.rnd.pick(this.backgrounds)},SuperLumberjackSyrupChug.Background.prototype.create=function(a){var b=new Kiwi.GameObjects.StaticImage(a,a.textures[this.currentBackground],0,0);return b},SuperLumberjackSyrupChug.Background.prototype.next=function(){var a=this.backgrounds.indexOf(this.currentBackground);a++,a>=this.backgrounds.length&&(a=0),this.currentBackground=this.backgrounds[a]};var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.Player=function(a,b){Kiwi.Group.call(this,a),this.characterNumber=b,this.character=new SuperLumberjackSyrupChug.PlayerModel(this.state,1*this.game.size.scale,15*this.game.size.scale,b),this.addChild(this.character),this.chockingSound=new Kiwi.Sound.Audio(this.game,"outOfBreath",1,!1),this.glupingSound=new Kiwi.Sound.Audio(this.game,"gulping",1,!1),this.winSound=new Kiwi.Sound.Audio(this.game,"winner",1,!1),this.loseSound=new Kiwi.Sound.Audio(this.game,"loser",1,!1),this.bar=new Kiwi.GameObjects.StaticImage(a,a.textures["progress-bar"],5*this.game.size.scale,5*this.game.size.scale),this.addChild(this.bar),this.syrupLevel=new Kiwi.GameObjects.StaticImage(a,a.textures["syrup-level"],6*this.game.size.scale,6*this.game.size.scale),this.syrupLevel.anchorPointX=0,this.addChild(this.syrupLevel),this.oxygenLevel=new Kiwi.GameObjects.StaticImage(a,a.textures["oxygen-level"],6*this.game.size.scale,6*this.game.size.scale+this.syrupLevel.height),this.oxygenLevel.anchorPointX=0,this.addChild(this.oxygenLevel),this.stomach=0,this.stomachMax=100,this.jugChug=1,this.mouth=0,this.mouthCapacity=30,this.mouthSwallow=.1,this.lungOxygen=100,this.lungCapacity=100,this.lungConsumption=1,this.lungRecharge=1,this.chokePenalty=20,this.choking=!1,this.chokeLeft=0,this.chokeRecovery=.5,this.isEnemy=!1,this.aiChugRate=.05,this.aiVariation=.03,this.aiVariationFreq=.01,this.aiVariationPhase=0,this.aiChugProgress=0,this.aiChugIndex=0},Kiwi.extend(SuperLumberjackSyrupChug.Player,Kiwi.Group),SuperLumberjackSyrupChug.Player.prototype.chug=function(){this.choking||(this.mouth+=this.jugChug,this.character.animation.play("drink",!0),this.glupingSound.play())},SuperLumberjackSyrupChug.Player.prototype.run=function(){this.digest(),this.render()},SuperLumberjackSyrupChug.Player.prototype.digest=function(){var a=this.state.game.time.rate,b=this.stomach+this.mouth;this.stomach<b-this.mouthCapacity&&(this.stomach=Math.max(0,b-this.mouthCapacity)),this.stomach=Math.min(b,this.stomach+this.mouthSwallow*a),this.mouth=Math.max(0,this.mouth-this.mouthSwallow),this.stomachMax<=this.stomach&&this.win(),this.choking?(this.chokeLeft-=this.chokeRecovery*a,this.chokeLeft<=0&&(this.choking=!1,this.character.animation.play("idle"))):this.mouth<=0?this.lungOxygen=Math.min(this.lungCapacity,this.lungOxygen+this.lungRecharge*a):this.lungOxygen-=this.lungConsumption*a,this.lungOxygen<0&&!this.choking&&(this.choking=!0,this.chokeLeft=this.chokePenalty,this.lungOxygen=0,this.mouth=0)},SuperLumberjackSyrupChug.Player.prototype.render=function(){this.syrupLevel.scaleX=Math.min(1,Math.max(this.stomach/this.stomachMax,0)),this.oxygenLevel.scaleX=Math.min(1,Math.max(this.lungOxygen/this.lungCapacity,0)),this.choking&&(this.character.animation.play("choke",!1),this.chockingSound.play())},SuperLumberjackSyrupChug.Player.prototype.win=function(){this.isEnemy?this.loseSound.play():this.winSound.play();var a={};a.enemyWon=this.isEnemy,a.winner=this.characterNumber,a.player1=this.state.player1.characterNumber,this.game.states.switchState("GameOver",null,null,a)},SuperLumberjackSyrupChug.Player.prototype.runAI=function(){this.aiChugIndex+=this.state.game.time.rate,this.aiChugProgress+=this.aiChugRate+Math.sin(this.aiChugIndex*this.aiVariationFreq+this.aiVariationPhase)*this.aiVariation,1<=this.aiChugProgress&&(this.aiChugProgress-=1,this.chug())};var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.PlayerModel=function(a,b,c,d){var e=null;switch(d){case 1:default:e=a.textures["ingame-paul"];break;case 2:e=a.textures["ingame-gustave"];break;case 3:e=a.textures["ingame-bjorn"];break;case 4:e=a.textures["ingame-fried"];break;case 5:e=a.textures["ingame-big-jim"];break;case 6:e=a.textures["ingame-luther"];break;case 7:e=a.textures["ingame-pierre"];break;case 8:e=a.textures["ingame-magnus"]}Kiwi.GameObjects.Sprite.call(this,a,e,b,c),this.animation.add("idle",[0,1],.1,!0,!0),this.animation.add("choke",[4,5],.1,!0);var f=this.animation.add("drink",[2,3,2,3,2,3],.1,!1);f.onStop.add(function(){this.animation.play("idle")},this)},Kiwi.extend(SuperLumberjackSyrupChug.PlayerModel,Kiwi.GameObjects.Sprite);var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.SizeManager=function(a){this.game=a,this.gameSizes=[{x:222,y:125,scale:1},{x:444,y:250,scale:2},{x:888,y:500,scale:4}],this.choosenSize=this.gameSizes[2];for(var b=this.gameSizes.length;b--;)window.innerHeight<this.gameSizes[b].y&&window.innerWidth<this.gameSizes[b].x&&(this.choosenSize=this.gameSizes[b]);console.log("Size set to: "+this.choosenSize.x+"x"+this.choosenSize.y)},Object.defineProperty(SuperLumberjackSyrupChug.SizeManager.prototype,"width",{get:function(){return this.choosenSize.x},enumerable:!0,configurable:!0}),Object.defineProperty(SuperLumberjackSyrupChug.SizeManager.prototype,"height",{get:function(){return this.choosenSize.y},enumerable:!0,configurable:!0}),Object.defineProperty(SuperLumberjackSyrupChug.SizeManager.prototype,"scale",{get:function(){return this.choosenSize.scale},enumerable:!0,configurable:!0}),Object.defineProperty(SuperLumberjackSyrupChug.SizeManager.prototype,"folder",{get:function(){return"assets/img/"+this.choosenSize.x+"x"+this.choosenSize.y+"/"},enumerable:!0,configurable:!0});var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.Tournament=function(a){this.game=a,this.reset()},SuperLumberjackSyrupChug.Tournament.prototype.reset=function(){this.player=null,this.currentOpponent=null,this.opponents=[1,2,3,4,5,6,7,8]},SuperLumberjackSyrupChug.Tournament.prototype.start=function(a){this.reset();var b=this.opponents.indexOf(a);return-1!==b?(this.player=a,this.opponents.splice(b,1),!0):!1},SuperLumberjackSyrupChug.Tournament.prototype.opponentBeaten=function(){if(this.currentOpponent){var a=this.opponents.indexOf(this.currentOpponent);-1!==a&&this.opponents.splice(this.opponents.indexOf(this.currentOpponent),1)}},SuperLumberjackSyrupChug.Tournament.prototype.finished=function(){return this.opponents.length>0?!1:!0},SuperLumberjackSyrupChug.Tournament.prototype.nextOpponent=function(){return this.finished()?!1:(this.currentOpponent=this.game.rnd.pick(this.opponents),!0)};var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.Facebook=new Kiwi.State("Facebook"),SuperLumberjackSyrupChug.Facebook.init=function(){this.game.audioMan=new SuperLumberjackSyrupChug.Audio(this.game),this.game.tournament=new SuperLumberjackSyrupChug.Tournament(this.game),this.game.background=new SuperLumberjackSyrupChug.Background(this.game),this.game.stage.resize(this.game.size.width,this.game.size.height),this.game.social.facebook.init({appId:"299973880205978"}),"undefined"!=typeof Cocoon&&"undefined"!=typeof Cocoon.Utils&&("undefined"!=typeof Cocoon.Utils.setAntialias&&Cocoon.Utils.setAntialias(!1),"undefined"!=typeof Cocoon.Utils.setNPOTEnabled&&Cocoon.Utils.setNPOTEnabled(!0))},SuperLumberjackSyrupChug.Facebook.create=function(){this.fbButton=new Kiwi.GameObjects.StaticImage(this,this.textures["fb-button"]),this.fbButton.x=Math.round(.5*(this.game.stage.width-this.fbButton.width)),this.fbButton.y=20*this.game.size.scale,this.noThanks=new Kiwi.GameObjects.StaticImage(this,this.textures["no-thanks"]),this.noThanks.x=Math.round(.5*(this.game.stage.width-this.noThanks.width)),this.noThanks.y=this.fbButton.y+this.fbButton.height+10*this.game.size.scale,this.addChild(this.noThanks),this.addChild(this.fbButton),this.game.input.onUp.add(this.processInput,this)},SuperLumberjackSyrupChug.Facebook.processInput=function(a,b){return this.fbButton.box.bounds.contains(a,b)?void this.game.social.gamefroot.loginWithFB({context:this,callback:this.playGame}):this.noThanks.box.bounds.contains(a,b)?void this.playGame():void 0},SuperLumberjackSyrupChug.Facebook.playGame=function(){this.game.states.switchState("Intro")},SuperLumberjackSyrupChug.Facebook.shutDown=function(){this.game.input.onUp.remove(this.processInput,this),this.game.fileStore.removeFile("fb-button"),this.game.fileStore.removeFile("no-thanks")};var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.GameOver=new Kiwi.State("GameOver"),SuperLumberjackSyrupChug.GameOver.create=function(a,b,c){this.winner=b,this.player1=c,a?this.configLose():(this.game.tournament.opponentBeaten(),this.game.tournament.finished()?this.configChamp():(this.game.tournament.nextOpponent(),this.configWin()))},SuperLumberjackSyrupChug.GameOver.displayChar=function(a,b){var c=null;switch(a){case 1:c=this.textures["select-paul"];break;case 2:c=this.textures["select-gustave"];break;case 3:c=this.textures["select-bjorn"];break;case 4:c=this.textures["select-fried"];break;case 5:c=this.textures["select-big-jim"];break;case 6:c=this.textures["select-luther"];break;case 7:c=this.textures["select-pierre"];break;case 8:c=this.textures["select-magnus"];break;default:c=this.textures["select-paul"]}this.victorSprite=new Kiwi.GameObjects.Sprite(this,c,0,46*this.game.size.scale),this.victorSprite.x=Math.round(.5*(this.game.stage.width-this.victorSprite.width));for(var d=c.cells.length,e=[],f=0;d/2>f;f++)e[f]=f;if(this.victorSprite.animation.add("animate",e,.1,!0,!0,!1),this.addChild(this.victorSprite),b)var c=this.textures["next-up"];else var c=this.textures["so-sorry"];this.newText=new Kiwi.GameObjects.Sprite(this,c),this.newText.x=Math.round(.5*(this.game.stage.width-this.newText.width)),this.newText.y=this.victorSprite.y-this.newText.height-2*this.game.size.scale,this.newText.animation.add("animate",[0,1],.1,!0,!0,!1),this.addChild(this.newText)},SuperLumberjackSyrupChug.GameOver.configWin=function(){this.youWon=new Kiwi.GameObjects.Sprite(this,this.textures["gameover-you-won"],19*this.game.size.scale,6*this.game.size.scale),this.youWon.animation.add("default",[0,1],.05,!0,!0),this.addChild(this.youWon),this.nextRound=new Kiwi.GameObjects.Sprite(this,this.textures["gameover-next-round"],44*this.game.size.scale,103*this.game.size.scale),this.nextRound.animation.add("default",[1,0],.05,!0,!0),this.addChild(this.nextRound),this.showQuit(),this.showTweet(!1,!0);var a=this;setTimeout(function(){a.nextRound.input.onUp.add(a.buttonReplay,a)},500),this.game.audioMan.playWinnerTrack(),this.displayChar(this.game.tournament.currentOpponent,!0)},SuperLumberjackSyrupChug.GameOver.configLose=function(){this.youLost=new Kiwi.GameObjects.Sprite(this,this.textures["gameover-you-lost"],20*this.game.size.scale,5*this.game.size.scale),this.youLost.animation.add("default",[0,1],.05,!0,!0),this.addChild(this.youLost),this.tryAgain=new Kiwi.GameObjects.Sprite(this,this.textures["gameover-try-again"],44*this.game.size.scale,103*this.game.size.scale),this.tryAgain.animation.add("default",[1,0],.05,!0,!0),this.addChild(this.tryAgain),this.showQuit(),this.showTweet(!1,!0);var a=this;setTimeout(function(){a.tryAgain.input.onUp.add(a.buttonReplay,a)},500),this.game.audioMan.playLoserTrack(),this.displayChar(this.game.tournament.player,!1)},SuperLumberjackSyrupChug.GameOver.configChamp=function(){this.congrats=new Kiwi.GameObjects.Sprite(this,this.textures["gameover-congratulations"],0,2*this.game.size.scale),this.congrats.x=Math.round(.5*(this.game.stage.width-this.congrats.width)),this.congrats.animation.add("default",[1,0],.075,!0,!0),this.addChild(this.congrats),this.subtext=new Kiwi.GameObjects.StaticImage(this,this.textures["gameover-subtext"],0,17*this.game.size.scale),this.subtext.x=Math.round(.5*(this.game.stage.width-this.subtext.width)),this.addChild(this.subtext),this.jugs=[],this.currentJug=0;for(var a=11*this.game.size.scale,b=0;8>b;b++){var c=new Kiwi.GameObjects.Sprite(this,this.textures["gameover-jug"],0,36*this.game.size.scale);c.x=Math.round(a),a+=c.width+1*this.game.size.scale,this.addChild(c),this.jugs.push(c);var d=c.animation.add("flash",[1,0],.075,!1);d.onStop.add(function(){this.currentJug++,this.currentJug>=this.jugs.length&&(this.currentJug=0),this.jugs[this.currentJug].animation.play("flash"),this.jugs[this.currentJug].cellIndex=1},this)}this.jugs[0].animation.play("flash"),this.champion=new Kiwi.GameObjects.StaticImage(this,this.textures["gameover-champion"],0,56*this.game.size.scale),this.champion.x=.5*(this.game.stage.width-this.champion.width)-1,this.addChild(this.champion),this.tryAgain=new Kiwi.GameObjects.Sprite(this,this.textures["gameover-try-again"],44*this.game.size.scale,99*this.game.size.scale),this.addChild(this.tryAgain),this.showTweet(!0,!1),this.game.audioMan.playFinalTrack();var e=this;setTimeout(function(){e.tryAgain.input.onUp.add(e.buttonQuit,e)},500)},SuperLumberjackSyrupChug.GameOver.showTweet=function(a,b){this.tweet=new Kiwi.GameObjects.Sprite(this,this.textures["gameover-tweet"],0,0),this.addChild(this.tweet),this.tweet.y=b?Math.floor((this.game.stage.height-this.tweet.height)/2)+5*this.game.size.scale:Math.floor(this.game.stage.height-2*this.tweet.height)-7*this.game.size.scale,this.tweet.x=Math.floor(a?(this.game.stage.width-this.tweet.width)/2:this.game.stage.width-(this.tweet.width+.3*this.tweet.y)),this.inputMethod=function(a,b){this.tweet.box.bounds.contains(a,b)&&this.buttonTweet()};var c=this;setTimeout(function(){c.game.input.onUp.add(c.inputMethod,c)},500)},SuperLumberjackSyrupChug.GameOver.showQuit=function(){this.quit=new Kiwi.GameObjects.Sprite(this,this.textures["gameover-quit"],0,0),this.quit.y=Math.floor((this.game.stage.height-this.quit.height)/2)+5*this.game.size.scale,this.quit.x=Math.floor(.3*this.quit.y),this.addChild(this.quit);var a=this;setTimeout(function(){a.quit.input.onUp.add(a.buttonQuit,a)},500)},SuperLumberjackSyrupChug.GameOver.buttonQuit=function(){this.game.audioMan.playButton(),this.game.states.switchState("Intro")},SuperLumberjackSyrupChug.GameOver.buttonTweet=function(){this.game.audioMan.playButton();var a="",b="Choose your Lumberjack and faceoff in the stickest Syrup Chugging compentition ever.",c="#syrupchug",d="http://twitter.com/share?text="+encodeURIComponent(b)+"&url="+encodeURIComponent(a)+"&hashtags="+c;"undefined"!=typeof Cocoon&&"undefined"!=typeof Cocoon.App&&"undefined"!=typeof Cocoon.App.openURL?Cocoon.App.openURL(d):window.open(d,"_blank","scrollbars=0, resizable=1, menubar=0, left=200, top=200, width=550, height=440")},SuperLumberjackSyrupChug.GameOver.buttonReplay=function(){this.game.audioMan.playButton(),this.game.states.switchState("Play",null,null,{choosen:this.player1})},SuperLumberjackSyrupChug.GameOver.shutDown=function(){this.game.input.onUp.remove(this.inputMethod,this)};var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.Intro=new Kiwi.State("Intro"),SuperLumberjackSyrupChug.Intro.create=function(){this.game.stage.color="000000",this.game.audioMan.playTitleTrack(),this.background=this.game.background.create(this),this.addChild(this.background),this.title=new Kiwi.GameObjects.Sprite(this,this.textures.title,5*this.game.size.scale,5*this.game.size.scale),this.title.x=Math.round(.5*this.game.stage.width-.5*this.title.width),this.title.animation.add("default",[0,1,2,3,4,5],.05,!0,!0),this.addChild(this.title),this.play=new Kiwi.GameObjects.Sprite(this,this.textures.play,Math.round(this.title.x),0),this.play.y=Math.round(this.game.stage.height-this.play.height)-5*this.game.size.scale,this.play.animation.add("default",[0,1,2,3],.05,!0,!0),this.addChild(this.play),this.playText=new Kiwi.GameObjects.Sprite(this,this.textures["play-text"],Math.round(this.play.x),Math.round(this.play.y)),this.addChild(this.playText),this.playText.input.onEntered.add(function(){this.cellIndex=1},this.playText),this.playText.input.onLeft.add(function(){this.cellIndex=0},this.playText),this.playText.input.onUp.add(function(){this.cellIndex=0},this.playText),this.playText.input.onDown.add(function(){this.cellIndex=1},this.playText),this.sound=new Kiwi.GameObjects.Sprite(this,this.textures.sound,0,Math.round(this.play.y)),this.sound.x=Math.round(this.title.x+this.title.width-this.sound.width),this.sound.input.onUp.add(this.toggleSound,this),this.addChild(this.sound),this.game.audio.mute&&(this.sound.cellIndex=1),this.play.input.onUp.add(this.selectCharacter,this)},SuperLumberjackSyrupChug.Intro.selectCharacter=function(){this.game.audioMan.playButton(),this.game.states.switchState("Select")},SuperLumberjackSyrupChug.Intro.toggleSound=function(){this.game.audioMan.playButton(),this.game.audio.mute?(this.game.audio.mute=!1,this.sound.cellIndex=0):(this.game.audio.mute=!0,this.sound.cellIndex=1)};var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.Loading=new KiwiLoadingScreen("Loading","Splash","assets/img/loading/"),SuperLumberjackSyrupChug.Loading.preload=function(){KiwiLoadingScreen.prototype.preload.call(this),this.addImage("burns","assets/img/splash/burns.png"),this.addImage("fb-button",this.game.size.folder+"facebook/FB-button.png"),this.addImage("no-thanks",this.game.size.folder+"facebook/nothanks.png"),this.addImage("morning-trees",this.game.size.folder+"background/morning.png"),this.addImage("noon-trees",this.game.size.folder+"background/noon.png"),this.addImage("night-trees",this.game.size.folder+"background/night.png"),this.addSpriteSheet("title",this.game.size.folder+"main-menu/title.png",149*this.game.size.scale,90*this.game.size.scale),this.addSpriteSheet("play",this.game.size.folder+"main-menu/play-button.png",73*this.game.size.scale,80*this.game.size.scale/4),this.addSpriteSheet("play-text",this.game.size.folder+"main-menu/play-button-text.png",73*this.game.size.scale,40*this.game.size.scale/2),this.addSpriteSheet("leaderboard",this.game.size.folder+"main-menu/leaderboard.png",44*this.game.size.scale/2,20*this.game.size.scale),this.addSpriteSheet("sound",this.game.size.folder+"main-menu/sound.png",44*this.game.size.scale/2,20*this.game.size.scale),this.addSpriteSheet("select-paul",this.game.size.folder+"character-select/paul.png",172*this.game.size.scale/4,102*this.game.size.scale/2),this.addSpriteSheet("select-gustave",this.game.size.folder+"character-select/gustave.png",258*this.game.size.scale/6,102*this.game.size.scale/2),this.addSpriteSheet("select-bjorn",this.game.size.folder+"character-select/bjorn.png",258*this.game.size.scale/6,102*this.game.size.scale/2),this.addSpriteSheet("select-fried",this.game.size.folder+"character-select/friedrich.png",258*this.game.size.scale/6,102*this.game.size.scale/2),this.addSpriteSheet("select-big-jim",this.game.size.folder+"character-select/bigjim.png",172*this.game.size.scale/4,102*this.game.size.scale/2),this.addSpriteSheet("select-luther",this.game.size.folder+"character-select/luther.png",258*this.game.size.scale/6,102*this.game.size.scale/2),this.addSpriteSheet("select-pierre",this.game.size.folder+"character-select/pierre.png",258*this.game.size.scale/6,102*this.game.size.scale/2),this.addSpriteSheet("select-magnus",this.game.size.folder+"character-select/magnus.png",172*this.game.size.scale/4,102*this.game.size.scale/2),this.addSpriteSheet("select",this.game.size.folder+"character-select/select-your-lumberjack.png",173*this.game.size.scale,64*this.game.size.scale/8),this.addSpriteSheet("continue",this.game.size.folder+"character-select/continue.png",69*this.game.size.scale,32*this.game.size.scale/4),this.addSpriteSheet("gameover-next-round",this.game.size.folder+"gameover/NEXT_ROUND.png",130*this.game.size.scale,42*this.game.size.scale/2),this.addImage("gameover-quit",this.game.size.folder+"gameover/QUIT.png"),this.addSpriteSheet("gameover-try-again",this.game.size.folder+"gameover/TRY_AGAIN.png",130*this.game.size.scale,42*this.game.size.scale/2),this.addImage("gameover-tweet",this.game.size.folder+"gameover/TWEET.png"),this.addSpriteSheet("gameover-you-lost",this.game.size.folder+"gameover/YOU_LOST.png",176*this.game.size.scale,56*this.game.size.scale/2),this.addSpriteSheet("gameover-you-won",this.game.size.folder+"gameover/YOU_WON.png",176*this.game.size.scale,56*this.game.size.scale/2),this.addSpriteSheet("next-up",this.game.size.folder+"gameover/nextup.png",30*this.game.size.scale,10*this.game.size.scale/2),this.addSpriteSheet("so-sorry",this.game.size.folder+"gameover/sosorry.png",30*this.game.size.scale,10*this.game.size.scale/2),this.addSpriteSheet("gameover-congratulations",this.game.size.folder+"champ/congrats.png",211*this.game.size.scale,26*this.game.size.scale/2),this.addSpriteSheet("gameover-jug",this.game.size.folder+"champ/jugs.png",48*this.game.size.scale/2,40*this.game.size.scale),this.addImage("gameover-champion",this.game.size.folder+"champ/champion.png"),this.addImage("gameover-subtext",this.game.size.folder+"champ/subtext.png"),this.addImage("chug",this.game.size.folder+"in-game/chug.png"),this.addImage("ready",this.game.size.folder+"in-game/ready.png"),this.addImage("tap-to-chug",this.game.size.folder+"in-game/tap-to-chug.png"),this.addSpriteSheet("numbers",this.game.size.folder+"in-game/numbers.png",120*this.game.size.scale/10,13*this.game.size.scale),this.addImage("syrup-level",this.game.size.folder+"in-game/syrup-level.png"),this.addImage("oxygen-level",this.game.size.folder+"in-game/oxygen-level.png"),this.addImage("progress-bar",this.game.size.folder+"in-game/progress-bar.png"),this.addSpriteSheet("pause-button",this.game.size.folder+"in-game/pause-button.png",23*this.game.size.scale,42*this.game.size.scale/2),this.addSpriteSheet("ingame-paul",this.game.size.folder+"in-game/chars/paul.png",188*this.game.size.scale/2,321*this.game.size.scale/3),this.addSpriteSheet("ingame-gustave",this.game.size.folder+"in-game/chars/gustave.png",188*this.game.size.scale/2,321*this.game.size.scale/3),this.addSpriteSheet("ingame-bjorn",this.game.size.folder+"in-game/chars/bjorn.png",188*this.game.size.scale/2,321*this.game.size.scale/3),this.addSpriteSheet("ingame-fried",this.game.size.folder+"in-game/chars/friedrich.png",188*this.game.size.scale/2,321*this.game.size.scale/3),this.addSpriteSheet("ingame-big-jim",this.game.size.folder+"in-game/chars/bigjim.png",188*this.game.size.scale/2,321*this.game.size.scale/3),this.addSpriteSheet("ingame-luther",this.game.size.folder+"in-game/chars/luther.png",188*this.game.size.scale/2,321*this.game.size.scale/3),this.addSpriteSheet("ingame-pierre",this.game.size.folder+"in-game/chars/pierre.png",188*this.game.size.scale/2,321*this.game.size.scale/3),this.addSpriteSheet("ingame-magnus",this.game.size.folder+"in-game/chars/magnus.png",188*this.game.size.scale/2,321*this.game.size.scale/3);var a="assets/sounds/";this.addAudio("button",[a+"ButtonPush_Effect.wav",a+"ButtonPush_Effect.mp3"]),this.addAudio("countdown",[a+"Countdown_Gamescreen.wav",a+"Countdown_Gamescreen.mp3"]),this.addAudio("game-loop",[a+"GameplayLoop_Gamescreen.wav",a+"GameplayLoop_Gamescreen.mp3"]),this.addAudio("gulping",[a+"GulpingSound_Effect.wav",a+"GulpingSound_Effect.mp3"]),this.addAudio("title-loop",[a+"Loop_TitleScreen.wav",a+"Loop_TitleScreen.mp3"]),this.addAudio("loser",[a+"Loser_Effect.wav",a+"Loser_Effect.mp3"]),this.addAudio("outOfBreath",[a+"OutofBreath_Effect.wav",a+"OutofBreath_Effect.mp3"]),this.addAudio("winner",[a+"Winner_Effect.wav",a+"Winner_Effect.mp3"]),this.addAudio("select-loop",[a+"SelectScreen_Loop.wav",a+"SelectScreen_Loop.mp3"]),this.addAudio("final-loop",[a+"FinalScreen_Loop.wav",a+"FinalScreen_Loop.mp3"])};var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.Play=new Kiwi.State("Play"),SuperLumberjackSyrupChug.Play.create=function(){this.started=!1,this.pause=!1,this.background=this.game.background.create(this),this.addChild(this.background),this.pauseButton=new Kiwi.GameObjects.Sprite(this,this.textures["pause-button"],0,5),this.pauseButton.x=.5*(this.game.stage.width-this.pauseButton.width),this.addChild(this.pauseButton),this.pauseButton.input.onEntered.add(function(){this.pauseButton.cellIndex=1},this),this.pauseButton.input.onLeft.add(function(){this.pauseButton.cellIndex=0},this),this.pauseButton.input.onDown.add(function(){this.pauseButton.cellIndex=1},this),this.pauseButton.input.onUp.add(function(){this.pauseButton.cellIndex=0,this.pauseGame()},this),this.continueButton=new Kiwi.GameObjects.Sprite(this,this.textures["continue"],0,0),this.continueButton.x=.5*(this.game.stage.width-this.continueButton.width),this.continueButton.y=.5*(this.game.stage.height-this.continueButton.height),this.addChild(this.continueButton),this.continueButton.visible=!1,this.continueButton.input.onUp.add(function(){this.unpauseGame()},this),this.player1=new SuperLumberjackSyrupChug.Player(this,this.game.tournament.player),this.addChild(this.player1),this.player2=new SuperLumberjackSyrupChug.Player(this,this.game.tournament.currentOpponent),this.player2.x=this.game.stage.width,this.player2.scaleX=-1,this.player2.isEnemy=!0,this.addChild(this.player2),this.tapToChug=new Kiwi.GameObjects.StaticImage(this,this.textures["tap-to-chug"],0*this.game.size.scale,93*this.game.size.scale),this.tapToChug.x=.5*(this.game.stage.width-this.tapToChug.width)+1,this.game.audioMan.stopBackgroundTrack(),this.countDown()},SuperLumberjackSyrupChug.Play.countDown=function(){this.ready=new Kiwi.GameObjects.StaticImage(this,this.textures.ready,0,40*this.game.size.scale),this.ready.x=.5*(this.game.stage.width-this.ready.width),this.ready.transform.scale=1.25,this.ready.alpha=1,this.addChild(this.ready),this.chug=new Kiwi.GameObjects.StaticImage(this,this.textures.chug,0,40*this.game.size.scale),this.chug.x=.5*(this.game.stage.width-this.chug.width),this.chug.transform.scale=1.25,this.chug.alpha=1,this.chugTween=this.game.tweens.create(this.ready),this.chugTween.to({alpha:0,scaleX:.75,scaleY:.75},1e3),this.chugTween.start(),this.game.audioMan.playCountDown(),setTimeout(this.start.bind(this),3e3)},SuperLumberjackSyrupChug.Play.start=function(){this.started=!0,this.game.audioMan.playGameTrack(),this.game.input.onUp.add(this.tap,this),this.chugTween=this.game.tweens.create(this.chug),this.chugTween.to({alpha:0,scaleX:.75,scaleY:.75},1e3),this.chugTween.start(),this.addChild(this.chug),this.addChild(this.tapToChug)},SuperLumberjackSyrupChug.Play.pauseGame=function(){this.started&&(this.prePauseMuteState=this.game.audio.mute,this.game.audio.mute=!0,this.pause=!0,this.continueButton.visible=!0,this.background.visible=!1,this.pauseButton.visible=!1,this.player1.visible=!1,this.player2.visible=!1,this.tapToChug.visible=!1)},SuperLumberjackSyrupChug.Play.unpauseGame=function(){this.started&&this.continueButton.visible&&this.pause&&(this.game.audio.mute=this.prePauseMuteState,this.pause=!1,this.continueButton.visible=!1,this.background.visible=!0,this.pauseButton.visible=!0,this.player1.visible=!0,this.player2.visible=!0,this.tapToChug.visible=!0)},SuperLumberjackSyrupChug.Play.update=function(){Kiwi.State.prototype.update.call(this),this.started&&!this.pause&&this.player2.runAI(),this.player1.run(),this.player2.run(),this.tapToChug.transform.scale=this.lastTapTime+50>this.game.time.now()?1.15:1},SuperLumberjackSyrupChug.Play.tap=function(){this.pause||(this.player1.chug(),this.lastTapTime=this.game.time.now())},SuperLumberjackSyrupChug.Play.shutDown=function(){this.game.background.next(),this.game.input.onUp.remove(this.tap,this)};var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.Select=new Kiwi.State("Select"),SuperLumberjackSyrupChug.Select.create=function(){this.game.audioMan.playSelectTrack(),this.select=new Kiwi.GameObjects.Sprite(this,this.textures.select,0,5*this.game.size.scale),this.select.x=.5*(this.game.stage.width-this.select.width),this.select.animation.add("default",[0,1,2,3,4,5,6,7],.05,!0,!0),this.addChild(this.select),this.continue=new Kiwi.GameObjects.Sprite(this,this.textures.continue,0,5*this.game.size.scale),this.continue.x=.5*(this.game.stage.width-this.continue.width),this.continue.animation.add("default",[0,1,2,3],.05,!0,!0),this.continue.visible=!1,this.addChild(this.continue),this.continue.input.onUp.add(this.proceed,this),this.selectedLumberjack=null,this.spawnCharacters()},SuperLumberjackSyrupChug.Select.spawnCharacters=function(){var a=this.select.y+this.select.height+5*this.game.size.scale;this.paul=this.createLumberjack(this.textures["select-paul"],10*this.game.size.scale,a,1),this.gustave=this.createLumberjack(this.textures["select-gustave"],this.paul.x+this.paul.width+10*this.game.size.scale,a,2),this.bjorn=this.createLumberjack(this.textures["select-bjorn"],this.gustave.x+this.gustave.width+10*this.game.size.scale,a,3),this.fred=this.createLumberjack(this.textures["select-fried"],this.bjorn.x+this.bjorn.width+10*this.game.size.scale,a,4);
var b=a+this.paul.height+2*this.game.size.scale;this.bigJim=this.createLumberjack(this.textures["select-big-jim"],this.paul.x,b,5),this.luther=this.createLumberjack(this.textures["select-luther"],this.gustave.x,b,6),this.pierre=this.createLumberjack(this.textures["select-pierre"],this.bjorn.x,b,7),this.magnus=this.createLumberjack(this.textures["select-magnus"],this.fred.x,b,8),this.addChild(this.paul),this.addChild(this.gustave),this.addChild(this.bjorn),this.addChild(this.fred),this.addChild(this.bigJim),this.addChild(this.luther),this.addChild(this.pierre),this.addChild(this.magnus)},SuperLumberjackSyrupChug.Select.createLumberjack=function(a,b,c,d){var e=new Kiwi.GameObjects.Sprite(this,a,b,c);e.id=d;for(var f=a.cells.length,g=[],h=0;f/2>h;h++)g.push(h);e.animation.add("active",g,.1,!0);for(var g=[],h=f/2;f>h;h++)g.push(h);return e.animation.add("inactive",g,.1,!0,!0),e.input.onUp.add(this.selectCharacter,this),e},SuperLumberjackSyrupChug.Select.selectCharacter=function(a){this.game.audioMan.playButton(),null!==this.selectedLumberjack&&this.selectedLumberjack.animation.play("inactive"),this.selectedLumberjack=a,this.selectedLumberjack.animation.play("active"),this.select.visible=!1,this.continue.visible=!0},SuperLumberjackSyrupChug.Select.proceed=function(){null!==this.selectedLumberjack&&this.game.tournament.start(this.selectedLumberjack.id)&&(this.game.tournament.nextOpponent(),this.game.audioMan.playButton(),this.game.states.switchState("Play"))};var SuperLumberjackSyrupChug=SuperLumberjackSyrupChug||{};SuperLumberjackSyrupChug.Splash=new Kiwi.State("Splash"),SuperLumberjackSyrupChug.Splash.create=function(){this.splash=new Kiwi.GameObjects.StaticImage(this,this.textures.burns),this.splash.x=.5*(this.game.stage.width-this.splash.width),this.splash.y=.5*(this.game.stage.height-this.splash.height),this.splash.alpha=0,this.addChild(this.splash),this.fadeIn=this.game.tweens.create(this.splash),this.fadeOut=this.game.tweens.create(this.splash),this.fadeIn.chain(this.fadeOut),this.fadeOut.delay(2e3),this.fadeIn.to({alpha:1},1e3),this.fadeOut.to({alpha:0},1e3),this.fadeIn.onComplete(this.switchBackgroundColor,this),this.fadeOut.onComplete(this.play,this),this.fadeIn.start()},SuperLumberjackSyrupChug.Splash.switchBackgroundColor=function(){this.game.stage.color="fff"},SuperLumberjackSyrupChug.Splash.play=function(){this.game.states.switchState("Facebook")},SuperLumberjackSyrupChug.Splash.shutDown=function(){this.game.fileStore.removeFile("burns")};var gameOptions={width:960,height:541,renderer:Kiwi.RENDERER_CANVAS,scaleType:Kiwi.Stage.SCALE_FIT,deviceTarget:Kiwi.TARGET_COCOON,debug:Kiwi.DEBUG_OFF,plugins:["SocialConnect"]},game=new Kiwi.Game("content","SuperLumberjackSyrupChug",null,gameOptions);game.size=new SuperLumberjackSyrupChug.SizeManager(game),game.states.addState(SuperLumberjackSyrupChug.Loading),game.states.addState(SuperLumberjackSyrupChug.Intro),game.states.addState(SuperLumberjackSyrupChug.Select),game.states.addState(SuperLumberjackSyrupChug.Play),game.states.addState(SuperLumberjackSyrupChug.GameOver),game.states.addState(SuperLumberjackSyrupChug.Splash),game.states.addState(SuperLumberjackSyrupChug.Facebook),game.states.switchState("Loading");